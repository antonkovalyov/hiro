<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Hiro Tests</title>

    <link rel="stylesheet" href="hiro.css">
    <script src="lib/qwery.js"></script>
    <script src="hiro.js"></script>
    <script src="web.js"></script>
  </head>

  <body onload="hiro.autorun();">
    <div id="header">
      <h1>Hiro</h1>
      <p><a href="javascript:void(hiro.run());">Run all</a></p>
    </div>

    <div id="web">
      <p class="simple">Ready</p>
    </div>

    <div id="footer">
      (music, movies, microcode)
    </div>

    <textarea class="fixture" data-name="simple">
      <html>
        <head>
          <script>
            var isReady = true;

            function echo(message) {
              return message;
            }
          </script>
        </head>

        <body>
          <p>Echo</p>
        </body>
      </html>
    </textarea>

    <textarea class="fixture" data-name="hirojs">
      <html>
        <head>
          <script src="hiro.js"></script>
        </head>

        <body>
          <div id="report" class="idle">
            <div id="console">
              <p>Ready.</p>
            </div>
          </div>
        </body>
      </html>
    </textarea>

    <textarea class="fixture" data-name="test">Test.</textarea>

    <script>
    hiro.module('SimpleTests', {
      setUp: function () {
        this.loadFixture('simple');
      },

      waitFor: function () {
        return this.window.isReady;
      },

      testSimple: function () {
        this.assertTrue(true);
      },

      testFailure: function () {
        this.assertTrue(false);
      }
    });

    hiro.module('OtherTests', {
      setUp: function () {
        this.loadFixture('simple');
      },

      waitFor: function () {
        return this.window.isReady;
      },

      testSimple: function () {
        this.assertTrue(true);
      },

      testAgain: function () {
        this.assertFalse(false);
      }
    });
    </script>

    <!--<script src="test.js"></script>-->
  </body>
</html>
